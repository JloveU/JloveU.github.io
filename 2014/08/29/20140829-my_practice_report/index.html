
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>大三暑期实习报告 | JloveU&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="yuqiang">
    
    <meta name="description" content="大三结束的暑期，学校组织生产实习，我选择了在陶文兵教授实验室实习，下面是我的实习报告。">
    
    
    
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/apple_icon.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/apple_icon.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">

</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="JloveU&#39;s Blog" title="JloveU&#39;s Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="JloveU&#39;s Blog">JloveU&#39;s Blog</a></h1>
				<h2 class="blog-motto">我要一步一步往上爬！</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">存档</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:jloveu.github.io/">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <!-- 说明：本文件是定义网页整体布局。 ——于强 2014-07-25 -->
<div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/08/29/20140829-my_practice_report/" title="大三暑期实习报告" itemprop="url">大三暑期实习报告</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://jloveu.github.io/" title="yuqiang">yuqiang</a>
    </p>
  <p class="article-time">
    <time datetime="2014-08-29T14:30:00.000Z" itemprop="datePublished">8月 29 2014</time>
    更新日期:<time datetime="2014-09-16T18:32:36.000Z" itemprop="dateModified">9月 17 2014</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<p>大三结束的暑期，学校组织生产实习，我选择了在陶文兵教授实验室实习，下面是我的实习报告。</p>
<a id="more"></a>

<style type="text/css">
p{text-indent:2em}
//h1{text-align:center}
</style>

<h1 id="实习报告"><div align="center">实习报告</div></h1>
<hr>
<div align="center"><br>学校：华中科技大学<br>院系：自动化学院<br>专业：自动化<br>班级：1102班<br>姓名：于强<br>学号：U201113539<br></div>

<hr>
<hr>
<h1 id="目录"><div align="center">目录</div></h1>
<hr>
<p>一、实习目的、意义及内容概述</p>
<p>二、前提知识</p>
<p>三、实践内容</p>
<p>四、收获和体会</p>
<p>参考文献</p>
<hr>
<hr>
<h1 id="一、实习目的、意义及内容概述">一、实习目的、意义及内容概述</h1>
<h2 id="1-_图像处理简介">1. 图像处理简介</h2>
<p>所谓数字图像处理，就是利用计算机对图像信息进行加工以满足人的视觉心理或者应用需求的行为。21世纪是一个充满信息的时代，图像作为人类感知世界的视觉基础，是人类获取信息、表达信息和传递信息的重要手段。数字图像处理，即用计算机对图像进行处理，其发展历史并不长。数字图像处理技术源于20世纪20年代，当时通过海底电缆从英国伦敦到美国纽约传输了一幅照片，采用了数字压缩技术。首先数字图像处理技术可以帮助人们更客观、准确地认识世界，人的视觉系统可以帮助人类从外界获取3/4以上的信息，而图像、图形又是所有视觉信息的载体，尽管人眼的鉴别力很高，可以识别上千种颜色，但很多情况下，图像对于人眼来说是模糊的甚至是不可见的，通过图象增强技术，可以使模糊甚至不可见的图像变得清晰明亮。另一方面，通过数字图像处理中的模式识别技术，可以将人眼无法识别的图像进行分类处理。通过计算机模式识别技术可以快速准确地检索、匹配和识别出各种东西。</p>
<p>数字图像处理技术已经广泛深入地应用于国计民生休戚相关的各个领域。</p>
<h2 id="2-_实习内容">2. 实习内容</h2>
<p>本次实习主要内容为图像处理，包括两个主要的算法，一个是『基于Active Contour思想的图像配准算法』，另一个是『基于拓扑聚类的局部匹配流方法』。</p>
<p>这两个算法都要求有一定的图像处理基础知识，了解一些经典的图像处理算法，如：SIFI特征提取与匹配、拓扑聚类、运动分层、Active Contour主动轮廓算法等。</p>
<h2 id="3-_目的及意义">3. 目的及意义</h2>
<p>通过对这些前提知识的学习，可以基本了解图像处理技术的发展方向和研究过程，能够在熟悉这些经典算法的基础上，学会对其算法和思想的灵活运用，并产生自己的思考。</p>
<hr>
<hr>
<h1 id="二、前提知识">二、前提知识</h1>
<h2 id="1-_SIFT特征提取与匹配">1. SIFT特征提取与匹配</h2>
<p><strong>SIFT算法简介</strong></p>
<p>SIFT，即尺度不变特征转换（Scale-invariant feature transform，SIFT），是用于图像处理领域的一种描述子。这种描述具有尺度不变性，可在图像中检测出关键点，是一种局部特征描述子。该方法于1999年由David Lowe 首先发表于计算机视觉国际会议（International Conference on Computer Vision，ICCV），2004年再次经David Lowe整理完善后发表于International journal of computer vision（IJCV）。截止2014年8月，该论文单篇被引次数达25000余次。<sup>[1]</sup></p>
<p>SIFT在数字图像的特征描述方面当之无愧可称之为最红最火的一种，许多人对SIFT进行了改进，诞生了SIFT的一系列变种。</p>
<p>下面分析SIFT特征提取步骤：</p>
<h3 id="（1）构建尺度空间">（1）构建尺度空间</h3>
<p>这是一个初始化操作，构建尺度空间目的是模拟图像数据的多尺度特征。</p>
<p>SIFT算法是在不同的尺度空间上查找关键点，而尺度空间的获取需要使用高斯模糊来实现，Lindeberg等人已证明高斯卷积核是实现尺度变换的唯一变换核，并且是唯一的线性核。</p>
<p>一副二维图像的尺度空间定义为：<br><img src="/images/20140829-my_practice_report/1.jpg" alt=""></p>
<p>其中 <code>G(x,y,σ)</code> 是尺度可变高斯函数：<br><img src="/images/20140829-my_practice_report/2.jpg" alt=""></p>
<p>(x,y) 是空间坐标，σ 是尺度坐标。σ 大小决定图像的平滑程度，大的σ值对应粗糙尺度(低分辨率)，反之，对应精细尺度(高分辨率)。为了有效的在尺度空间检测到稳定的关键点，提出了高斯差分尺度空间（DOG scale-space）。利用不同尺度的高斯差分核与图像卷积生成。</p>
<p><strong>高斯金字塔的构建</strong></p>
<p>尺度空间在实现时使用高斯金字塔表示，高斯金字塔的构建分为两部分：</p>
<ul>
<li>对图像做不同尺度的高斯模糊；</li>
<li>对图像做降采样(隔点采样)。</li>
</ul>
<p><img src="/images/20140829-my_practice_report/3.jpg" alt=""></p>
<p>在实际计算时，使用高斯金字塔每组中相邻上下两层图像相减，得到高斯差分图像，如图3.3所示，进行极值检测。</p>
<p><img src="/images/20140829-my_practice_report/4.jpg" alt=""></p>
<h3 id="（2）检测尺度空间极值点">（2）检测尺度空间极值点</h3>
<p>为了寻找尺度空间的极值点，每一个采样点要和它所有的相邻点比较，看其是否比它的图像域和尺度域的相邻点大或者小。如图所示，中间的检测点和它同尺度的8个相邻点和上下相邻尺度对应的9×2个点共26个点比较，以确保在尺度空间和二维图像空间都检测到极值点。</p>
<p><img src="/images/20140829-my_practice_report/5.jpg" alt=""></p>
<h3 id="（3）精确定位极值点">（3）精确定位极值点</h3>
<p>离散空间的极值点并不是真正的极值点，需要利用已知的离散空间点插值得到的连续空间极值点，称为子像素插值。</p>
<p>在此过程中获取特征点的精确位置(原位置加上拟合的偏移量)以及对应尺度。</p>
<h3 id="（4）为每个关键点指定方向参数">（4）为每个关键点指定方向参数</h3>
<p>利用关键点邻域像素的梯度方向分布特性为每个关键点指定方向参数，使算子具备旋转不变性。</p>
<p>通过对关键点周围图像区域分块，计算块内梯度直方图，生成具有独特性的向量，这个向量是该区域图像信息的一种抽象，具有唯一性。</p>
<h3 id="（5）生成关键点描述子">（5）生成关键点描述子</h3>
<p>首先将坐标轴旋转为关键点的方向，以确保旋转不变性。</p>
<p>计算keypoint周围的16×16的window中每一个像素的梯度，而且使用高斯下降函数降低远离中心的权重。这样就可以对每个feature形成一个4×4×8=128维的描述子，每一维都可以表示4×4个格子中一个的scale/orientation。将这个向量归一化之后，就进一步去除了光照的影响。</p>
<p>至此，SIFT特征提取结束。</p>
<p><strong>SIFT特征匹配</strong></p>
<p>SIFT特征匹配就是利用两幅图的SIFT特征，将每个特征点的特征进行相似性匹配，在两幅图之间找到唯一性匹配，即得到SIFT特征匹配结果。</p>
<h2 id="2-_基于拓扑聚类的误匹配消除">2. 基于拓扑聚类的误匹配消除</h2>
<p>SIFT特征匹配虽然的确很精确，但也难免会出现错误的匹配对，于是出现了很多消除误匹配的方法，基于拓扑聚类的误匹配消除方法就是其中一种。</p>
<p>基于拓扑聚类的误匹配消除方法来自于我校田金文老师等三人等发表的一篇文章<sup>[3]</sup>。</p>
<p>通过对先前检测出的特征匹配点对进行拓扑聚类，根据点集之间的拓扑关系，可以分为一下4种情况：</p>
<p><img src="/images/20140829-my_practice_report/6.png" alt=""></p>
<div align="center">两个区域之间的4种关系</div>

<p>在待匹配的两帧图像中，一幅图中两个区域的拓扑关系映射到另一幅图中时，拓扑关系应不变。</p>
<p>根据这个原理，可以剔除大部分误匹配。</p>
<p>基于一般的两帧的宽基线匹配模型，该算法首先生成两帧之间拓扑不变的匹配集群，然后从集群中排除误匹配。实验结果表明，该算法能从低精度的初始SIFT的宽基线图像匹配对中有效地提取高精度的尺度不变特征变换（SIFT）匹配。此外，该算法在和其他算法的对比中总是表现最佳或接近最佳，这表明它在排除误匹配特征点时比其他方法更具有鲁棒性。</p>
<h2 id="3-_运动分层">3. 运动分层</h2>
<p>运动分层是一种视频图像分割技术。</p>
<h2 id="4-_Active_Contour主动轮廓">4. Active Contour主动轮廓</h2>
<p>主动轮廓模型主要用于解决图像中目标物体的分割操作。理论上是可以解决二维乃至多维的情况，不过最初的模型是在二维图像上建立的。</p>
<p>主动轮廓模型是一个自顶向下定位图像特征的机制，用户或其他自动处理过程通过事先在感兴趣目标附近放置一个初始轮廓线，在内部能量（内力）和外部能量（外力）的作用下变形外部能量吸引活动轮廓朝物体边缘运动，而内部能量保持活动轮廓的光滑性和拓扑性，当能量达到最小时，活动轮廓收敛到所要检测的物体边缘。</p>
<h3 id="（1）最初的主动轮廓模型_-_snake模型：">（1）最初的主动轮廓模型 - snake模型：</h3>
<p>基于能量最小化（energy minimization）框架的曲线变形方法。</p>
<p>基本思想是：</p>
<p>1）在图像中初始化一个闭合曲线轮廓。形状任意，只要保证将目标物体完全包含在曲线内部即可；</p>
<p>2）然后构建能量方程。能量方程由两部分组成。一是以规范化曲线形状为目的的项，称为内能量（internal force）；一是以靠近目标物体边缘为目的的项，称为外能量（external force）。<br>从实际效果上来说，最小化内能量使得曲线不断向内部紧缩且保持连续并且平滑，而外能量则是保证曲线紧缩到目标物体边缘时停止；</p>
<p>3）根据能量方程，计算出表示曲线受力的欧拉方程（Euler equation）。按照曲线各点的受力来对曲线进行变形，直至受力为0。此时能量方程达到最小值，曲线收敛到目标物体边缘。</p>
<p>snake的缺点是：能量方程依赖于曲线方程的参数化，不是曲线的本征（intrinsic）表示。因此不能处理变形过程中的拓扑变化，从而不能用于检测多目标的情况。</p>
<h3 id="（2）改进的模型">（2）改进的模型</h3>
<p>基于snake模型的缺点，提出的改进模型：基于mean curvature motion equation的模型。</p>
<p>基本思想是将图像按照曲线量化为level set函数（最常用的是signed distance function）。level-set类似于等势线，一幅图像上所有level-set值等于某个常量的点构成一个闭合曲线。</p>
<p>因此，t时刻的曲线可以表示为： C(t) = {(x,y): u(t,x,y) = 0}</p>
<p>这样的曲线表示方法不依赖于参数化，因此是曲线的本征表示。</p>
<p>这样就将曲线的运动转化为zero level-set函数的运动。运动方程中也包含了曲线规范项和目标吸引项，与snake不同的是，这两项是相乘的形式。其中：</p>
<p>曲线规范项是level-set运动的基本速度，其值是曲线上各点的曲率。该项同时具有”shortening”和”smoothing”的作用，相当于snake模型中两项的共同作用。</p>
<p>目标吸引项是曲线上点在图像上的梯度值的单调递减函数，一般目标的边界梯度值较大，这样运动到目标边缘时，目标吸引项会急剧减小，使得曲线停止在目标边缘处。</p>
<p>该模型的缺点：曲线停止在目标边缘的条件是运动到边缘时速率为0，而这只在理想情况下才出现。因此曲线容易越过边界运动到物体内部。</p>
<h3 id="（3）Geodesic_Active_Contours">（3）Geodesic Active Contours</h3>
<p>建立了上述两种模型之间的联系，并在第二种模型的基础上进行了改进，使得曲线可以停止在目标物体边缘。</p>
<p>首先论证了snake模型中，曲线规范项的第二项（曲线的二阶微分项）系数可以为0，这样的模型得到的结果与之前的snake模型相同。</p>
<p>然后证明了最小化这样的模型的能量方程等效于最小化欧式空间中某个曲线的加权长度值。最小化欧式空间中曲线的长度相当于snake模型的曲线规范项，而每个点的权值则是由该点处的图像梯度值决定的，也就是说这相当于目标吸引项。</p>
<p>最后将曲线的运动方程转换成为zero level-set函数的运动方程，得到的结果与2中结果相似，只是多了一项，该项可以保证曲线在目标边缘附近的运动方向总是指向边缘的。</p>
<h3 id="（4）一种由内向外的Active_Contour模型">（4）一种由内向外的Active Contour模型</h3>
<p>传统 Active Contour 模型中初始点通常选取在边界的外部，向边界收敛，这种收敛仅对规则的图像分割效果较好，当遇到凹陷区域时，轮廓点通常无法进入凹陷区域甚至远离边界。如在边界内部选取初始轮廓点，原本凹陷的区域边界对于初始轮廓点将不再凹陷，只需向外推动轮廓点达到边界即可，且这样的选取可避免区域边界外的噪声点对轮廓点收缩的影响，适合复杂区域背景图像分割。</p>
<p>为了实现这一想法，从两方面入手：一方面在总能量中增加考虑轮廓点围成的面积，面积的增大会导致轮廓点向边界由内向外膨胀，膨胀的过程中，轮廓点越接近目标边界能量越小，即面积随着能量的减小而逐渐增大，可看作反比关系；另一方面，面积的增大不能无限制，需有一个合适的力加以约束，考虑增加轮廓点之间的作用力，该力应起到使轮廓点适当收缩的作用，以抑制轮廓点无节制的膨胀。</p>
<p>实验表明，采用由内向外的 Active Contour 模型，对复杂的凹陷区域效果明显，不受区域外部噪声影响。</p>
<hr>
<hr>
<h1 id="三、实践内容">三、实践内容</h1>
<h2 id="1-_基于主动轮廓思想的图像配准方法简介">1. 基于主动轮廓思想的图像配准方法简介</h2>
<h2 id="2-_代码实现">2. 代码实现</h2>
<h2 id="3-_调试和改进">3. 调试和改进</h2>
<h2 id="4-_基于拓扑聚类的局部匹配流方法简介">4. 基于拓扑聚类的局部匹配流方法简介</h2>
<h2 id="5-_代码实现">5. 代码实现</h2>
<h2 id="6-_调试和改进">6. 调试和改进</h2>
<hr>
<hr>
<h1 id="四、收获和体会">四、收获和体会</h1>
<hr>
<hr>
<h1 id="参考文献">参考文献</h1>
<p>[1] DAVID G. LOWE, Distinctive image features from scale-invariant keypoints, International Journal of Computer Vision 60(2), 91–110, 2004.</p>
<p>[2] Rachel-Zhang，SIFT特征提取分析，CSDN博客频道，2012-06-06。</p>
<p>[3] Yongtao Wang, Dazhi Zhang, Jinwen Tian, Topological clustering and its application for discarding wide-baseline mismatches, Optical Engineering 47(5), 057202 (May 2008).</p>
<p>[4] Yongtao Wang, Junbin Gong, Dazhi Zhang, Chenqiang Gao, Jinwen Tian, and Huanqiang Zeng, Large Disparity Motion Layer Extraction via Topological Clustering, IEEE TRANSACTIONS ON IMAGE PROCESSING, VOL. 20, NO. 1, JANUARY 2011.</p>
<p>[5] 张辉，吴月宁，一种由内向外的 Active Contour 模型图像分割算法，计算机工程与应用，2011，47(23)。</p>
<p>[6] Yongtao Wang, Junbin Gong, Dazhi Zhang, Chenqiang Gao, Jinwen Tian, Huanqiang Zeng, Large Disparity Motion Layer Extraction via Topological Clustering, IEEE TRANSACTIONS ON IMAGE PROCESSING, VOL. 20, NO. 1, JANUARY 2011.</p>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/原创/">原创</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/论文报告/">论文报告</a>
</div>



<div class="article-share" id="share">

  <div data-url="http://jloveu.github.io/2014/08/29/20140829-my_practice_report/" data-title="大三暑期实习报告 | JloveU&#39;s Blog" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2014/09/01/20140901-yue_du_ji_lu/" title="阅读记录（2014年9月）">
  <strong>上一篇：</strong><br/> <!-- 说明：修改文章下面显示的“NEXT：”为中文，到zh-CN.yml文件中找。 ——于强 2014-08-15 -->
  <span>
  阅读记录（2014年9月）</span>
</a>
</div>


<div class="next">
<a href="/2014/08/26/20140826-Blog_on_Bitbucket/"  title="用Bitbucket搭建博客初探">
 <strong>下一篇：</strong><br/> <!-- 说明：修改文章下面显示的“NEXT：”为中文，到zh-CN.yml文件中找。 ——于强 2014-08-15 -->
 <span>用Bitbucket搭建博客初探
</span>
</a>
</div>

</nav>

	
<section class="comment">
<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="2014/08/29/20140829-my_practice_report/" data-title="大三暑期实习报告" data-url=""></div>
<!-- 多说评论框 end -->
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
			<li><a href="/categories/保研考研/" title="保研考研">保研考研<sup>6</sup></a></li>
		
			<li><a href="/categories/技术杂谈/" title="技术杂谈">技术杂谈<sup>2</sup></a></li>
		
			<li><a href="/categories/编程开发/" title="编程开发">编程开发<sup>7</sup></a></li>
		
			<li><a href="/categories/茶余饭后/" title="茶余饭后">茶余饭后<sup>2</sup></a></li>
		
			<li><a href="/categories/论文报告/" title="论文报告">论文报告<sup>1</sup></a></li>
		
			<li><a href="/categories/阅读记录/" title="阅读记录">阅读记录<sup>7</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			<li><a href="/tags/Android开发/" title="Android开发">Android开发<sup>2</sup></a></li>
		
			<li><a href="/tags/保研/" title="保研">保研<sup>5</sup></a></li>
		
			<li><a href="/tags/原创/" title="原创">原创<sup>18</sup></a></li>
		
			<li><a href="/tags/复试/" title="复试">复试<sup>6</sup></a></li>
		
			<li><a href="/tags/第一桶金/" title="第一桶金">第一桶金<sup>1</sup></a></li>
		
			<li><a href="/tags/编程规范/" title="编程规范">编程规范<sup>1</sup></a></li>
		
			<li><a href="/tags/考研/" title="考研">考研<sup>1</sup></a></li>
		
			<li><a href="/tags/自动化/" title="自动化">自动化<sup>6</sup></a></li>
		
			<li><a href="/tags/计划监督者/" title="计划监督者">计划监督者<sup>1</sup></a></li>
		
			<li><a href="/tags/转载/" title="转载">转载<sup>7</sup></a></li>
		
		</ul>
</div>


  
  <div class="tagcloudlist">
    <p class="asidetitle">标签云</p>
    <div class="tagcloudlist clearfix">
       <a href="/tags/Android开发/" style="font-size: 12.00px;">Android开发</a><a href="/tags/保研/" style="font-size: 14.00px;">保研</a><a href="/tags/原创/" style="font-size: 20.00px;">原创</a><a href="/tags/复试/" style="font-size: 16.00px;">复试</a><a href="/tags/第一桶金/" style="font-size: 10.00px;">第一桶金</a><a href="/tags/编程规范/" style="font-size: 10.00px;">编程规范</a><a href="/tags/考研/" style="font-size: 10.00px;">考研</a><a href="/tags/自动化/" style="font-size: 16.00px;">自动化</a><a href="/tags/计划监督者/" style="font-size: 10.00px;">计划监督者</a><a href="/tags/转载/" style="font-size: 18.00px;">转载</a>
    </div>
  </div>


  
  <div class="archiveslist">
    <p class="asidetitle"><a href="/archives">归档</a></p>
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01">一月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12">十二月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11">十一月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10">十月 2014</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09">九月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08">八月 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07">七月 2014</a><span class="archive-list-count">7</span></li></ul>
  </div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
      <li><a href="http://jloveu.github.io/IloveUFangYu/a" target="_blank" title="Baby I love U">2014七夕情人节</a></li>
    </ul>
</div>

</aside>
</div>
    </div>
    <footer><!-- 说明：本文件定义网页最低端的作者图片、2行作者介绍、作者各网站链接和Power by。 ——于强 2014-07-25 -->
<div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 欢迎参观我的博客！ <br/>
			在这里记载的，都是我学习生活的点滴记录。</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2755919507" target="_blank" title="weibo"></a>
		
		
		
		<a href="https://github.com/JloveU" target="_blank" title="github"></a>
		
		
	</div>
		<p class="copyright">Powered by <a href="http://zespia.tw/hexo/" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2015 
		
		<a href="http://jloveu.github.io/" target="_blank" title="yuqiang">yuqiang</a>
		
		<script type="text/javascript">
			var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
			document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fe30b6f9dbaadde33318eaad49ef6e9e5' type='text/javascript'%3E%3C/script%3E"));
		</script>
		</p>

</div>
</footer>
    <!-- 说明：本文件是定义网页中，紧接着文章下面到footer的那一块，包括所属分类、包含标签、社交网站分享、前后篇博文链接、多说评论等。 ——于强 2014-07-25 -->
<script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>


<!-- 这段代码是多说评论组件的js代码，其中有一句“ds.src = '//static.duoshuo.com/embed.js';”被我改成了“ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';” ——于强 2014-07-25 -->
<script type="text/javascript">
  var duoshuoQuery = {short_name:"jloveu"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 





  </body>
</html>
